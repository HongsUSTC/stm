$finegray: #f4f4f4;

html, body {
    width: 100%;
    height: 100%;
}

html {
    display: flex;
    flex-direction: column;
    font: 15px "Source Sans Pro";
    line-height: 16px;
}

body {
    display: flex;
    flex-direction: row;
    flex: 1;

    >* {
        overflow: auto;
        padding: 5px;
    }
}

form {
    display: flex;
    flex-direction: column;
    border-right: 1px solid lightgray;
    width: 300px;
    resize: horizontal;
    padding: 5px;
    font: 13px "Source Code Pro";

    div.log {
        flex: 1;
        display: flex;
        overflow-x: hidden;
        overflow-y: auto;

        ul {
            $indent-width: 15px;
            margin-top: auto;
            width: 100%;

            li {
                white-space: nowrap;
                padding-left: $indent-width;

                &::before {
                    display: inline-block;
                    margin-left: -$indent-width;
                    width: $indent-width;
                }

                &.error {
                    background: hsl(0, 100%, 97%);
                    color: red;

                    &::before {
                        content: "⦻";
                    }
                }

                &.input::before {
                    content: ">";
                }

                &>pre {
                    display: inline-block;
                    vertical-align: top;
                    white-space: pre-wrap;
                    word-break: initial;
                    word-wrap: break-word;
                    overflow-wrap: break-word;
                }

                &.info {
                    background: $finegray;
                    color: blue;

                    &::before {
                        content: "ⓘ";
                    }
                }

                &.warn {
                    background: hsl(50, 100%, 95%);
                    color: hsl(39, 100%, 18%);

                    &::before {
                        content: "⚠";
                    }
                }
            }
        }
    }

    fieldset {
        width: 100%;
        $label-width: 15px;
        font: inherit;

        label {
            display: inline-block;
            width: $label-width;
            margin-right: -$label-width;
            color: #367cf1;
            font-weight: 900;
        }

        >input[name="mode-chain-json"] {
            box-sizing: border-box;
            padding-left: $label-width;
            width: 100%;
            border: none;
            outline: none;
            background: transparent;
            font: inherit;
        }
    }

    input[type="submit"] {
        display: none;
    }
}

main {
    flex: 1;

    li {
        float: left;
        margin-right: 40px;

        &:last-child {
            margin-right: 0;
        }
    }

    >iframe {
        width: 100%;
        height: 0;
        border: none;
        background-color: transparent;
    }

    .bias-voltage, .current-signal {
        display: inline-block;
        text-align: right;
    }

    .bias-voltage {
        width: 50px;
    }

    .current-signal {
        width: 30px;
    }

    >section {
        margin-top: 20px;
        border-top: 1px solid lightgray;
        clear: both;
    }

    svg.graph {
        display: block;
        width: 100%;
        height: 200px;
        background: $finegray;
    }

    path {
        fill: none;
        vector-effect: non-scaling-stroke;
        stroke-width: 0.5px;

        &.z {
            stroke: steelblue;
        }

        &.current-signal {
            stroke: red;
        }
    }
}
